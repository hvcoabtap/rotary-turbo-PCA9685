<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Rotary encoder turbo and PCA9685</title>
  </head>
  <body link="#0000EE" bgcolor="#acffe3" alink="#EE0000" vlink="#551A8B"
    text="windowtext">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <div align="center"><font size="+2"><b>Rotary encoder turbo and
          PCA9685<br>
          <br>
          <br>
        </b></font>
      <div align="left"><font size="+1">Logarithmic applied scale to
          rotary encoder turbo. Turbo mode start if turning rapidly
          rotary weel and stop automatically after 3 seconds. Tested
          with stm32f103c8t6 (blue-pill) and PCA9685. For used scale I
          added gnumeric spreadsheet for double type value control match
          with integers in arduino schetch.<br>
          <br>
          You can modify this code according yours own needs. Pls
          consider this: <br>
        </font>
        <ul>
          <li><font size="+1">using for led dimming: </font></li>
        </ul>
        <font size="+1"> </font>
        <p><font size="+1">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp; with logarithmic derived scale consider
            apparent light intensity modulation not of light source but
            for whole light reflecting 3d area; <br>
            &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
            with scale range (here 500 steps) and timing for turbo mode,
            you can adapt this code with whole 3d area regarding light
            reflecting caracteristics and rotary using mode also
            reducing 360° rotary turns number not needing very large
            single step luminosity difference; <br>
          </font> </p>
        <font size="+1"> </font>
        <ul>
          <li><font size="+1">with motors, ... be careful using turbo.
              :-)</font></li>
        </ul>
        <font size="+1"> </font>
        <p><br>
        </p>
        <p><font size="+1">Arduino sketch:</font></p>
        <p><font size="+1"><a
href="https://raw.githubusercontent.com/hvcoabtap/rotary-turbo-PCA9685/master/intellirotar.ino">Code
              using stm32f103c8t6</a></font></p>
        <p><font size="+1"><br>
          </font><br>
          <font size="+1"><font size="+1">Gnumeric spreadsheet for
              double type value control match with integers in arduino
              schetch:<br>
            </font></font></p>
        <p><font size="+1"><font size="+1"><a
href="https://raw.githubusercontent.com/hvcoabtap/rotary-turbo-PCA9685/master/LogarithmicPotentiometer2RotaryEncoder.gnumeric">Logarithmic
                potentiometer ADC formula sheet demonstration</a><br>
            </font></font></p>
        <p><br>
        </p>
        <p><font size="+1">My test environment (blue pill is inserted
            and removable):</font><br>
        </p>
        <div align="center"><a
href="https://raw.githubusercontent.com/hvcoabtap/rotary-turbo-PCA9685/master/Testing.JPG"><img
src="https://raw.githubusercontent.com/hvcoabtap/rotary-turbo-PCA9685/master/Testing.JPG"
              alt="" width="800" height="600" border="0" align="top"></a><br>
        </div>
        <br>
        <br>
        <font size="+1">If use Serial2, send string x*y for pwm setting
          (e.g 0*4095 means led0 always on, fixed on start to 0), for
          rate (frequency) use Rx (e.g. R24 for rate 24 Hz).<br>
          <br>
          Arduino serial encoder debugging (with glitch in data as twin
          line for rotary false contact moving weel, but code works
          well) :</font><br>
        <br>
        <div align="center"><a
href="https://raw.githubusercontent.com/hvcoabtap/rotary-turbo-PCA9685/master/Screenshot%20at%202020-06-26%2016-52-42.png"><img
src="https://raw.githubusercontent.com/hvcoabtap/rotary-turbo-PCA9685/master/Screenshot%20at%202020-06-26%2016-52-42.png"
              alt="" width="593" height="635" border="0"></a><br>
          <br>
          <br>
          <div align="right"><font size="-1">html page created with SeaMonkey
              Composer</font><br>
          </div>
        </div>
        <meta http-equiv="content-type" content="text/html;
          charset=UTF-8">
        <meta http-equiv="content-type" content="text/html;
          charset=UTF-8">
      </div>
      <b><font size="+3"><span style="color: rgb(36, 41, 46);
            font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe
            UI&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color
            Emoji&quot;, &quot;Segoe UI Emoji&quot;; font-size: 16px;
            font-style: normal; font-variant-ligatures: normal;
            font-variant-caps: normal; font-weight: 400; letter-spacing:
            normal; orphans: 2; text-align: start; text-indent: 0px;
            text-transform: none; white-space: normal; widows: 2;
            word-spacing: 0px; -webkit-text-stroke-width: 0px;
            background-color: rgb(128, 255, 255); text-decoration-style:
            initial; text-decoration-color: initial; display: inline
            !important; float: none;"></span></font></b></div>
  </body>
</html>
